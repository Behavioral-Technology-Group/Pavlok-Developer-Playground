{% extends "root.html" %}

{% block head %}		
	<!-- Syntax highlighting via CodeMirror-->
	<link rel="stylesheet" href="/lib/codemirror.css">
	<script src="/lib/codemirror.js"></script>
	<script src="/mode/javascript/javascript.js"></script>
	
	<!-- Context data for the page; used to populate certain objects -->
	<script type="text/javascript">
		var pavCtx = {
			name: "{{ name }}",
			uid: "{{ uid }}",
			code: "{{ code }}",
			ownedFiles: {{ ownedFiles }},
			sharedFiles: {{ sharedFiles }} 
		};
	</script>
	
	<!-- Library of handy functions -->
	<script src="/lib.js"></script>
	
	{% block headerFiles %}
	{% endblock %}
{% endblock %}

{% block body %}
<!-- Title bar -->
	<div class="page-header" id="title-bar">
		<h1 id="title">
			Pavlok Developer Playground 
			{% block header %}{% endblock %}
			<small id="login-message">Signed in as {{ email }}.</small>
			<small id="logout-button"><a href="/logout">Logout</a></small>
		</h1>
	</div>
	
	{% block topLayout %}
	<div id="block-bar">
		<div id="file-listings">
			<div class="dropdown">
				<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" id="file-menu-button">Open A File
				<span class="caret"></span></button>
				<ul id="file-menu" class="dropdown-menu">
					<li class="dropdown-header">Create</li>
					<li><a href="/">New File</a></li>
					<li class="dropdown-header">Owned Files</li>
				</ul>
			</div>
		</div>
		
		<div id="upper-buttons">
			<button type="button" id="snippet-button" data-toggle="modal" data-target="#snippet-modal" class="btn btn-default"><span class="glyphicon glyphicon-scissors" aria-hidden="true"></span> Snippets</button>
		</div>
	</div>
	{% endblock %}
	
	<!-- Code area -->
	<textarea id="code" autocomplete="false" spellcheck="false">
		{{ initialCode }}
	</textarea>
	
	<!-- Buttons -->		
	<div class="btn-group btn-group-justified" role="group">		
		{% block buttons %}
		{% endblock %}
	</div>
	
	<!-- Output of the script -->	
	<div id="result">
		The result of any Pavlok stimuli and your script will appear here after running.
	</div>
	
	<!-- Script logs (from log.info(), log.warn(), log.error()) -->
	<div id="logs">
		Logs from log.info(...), log.warn(...), and log.error(...) will show up here.
	</div>
	
	{% block modals %}
	{% endblock %}
{% endblock %}
